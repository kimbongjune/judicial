# ===========================================
# 법률 판례 검색 시스템 환경변수 설정
# ===========================================
# 이 파일을 복사하여 .env 파일을 만드세요:
# cp .env.example .env

# -------------------------------------------
# 법제처 API 설정
# -------------------------------------------
# 법제처 OpenAPI 인증키 (OC)
# 발급: https://open.law.go.kr/
LAW_API_OC=nocdu112

# API 기본 URL
LAW_API_BASE_URL=http://www.law.go.kr/DRF

# API 호출 제한 (일일 기본 10,000건)
LAW_API_RATE_LIMIT=10000

# -------------------------------------------
# 데이터베이스 설정
# -------------------------------------------
# SQLite (개발/테스트용) - 기본값
DATABASE_URL=sqlite+aiosqlite:///./data/judicial.db

# PostgreSQL (프로덕션용)
# DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/judicial

# 연결 풀 설정
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# -------------------------------------------
# 애플리케이션 설정
# -------------------------------------------
# 환경: development, staging, production
APP_ENV=development

# 디버그 모드
DEBUG=true

# 시크릿 키 (세션, 토큰 등에 사용)
# 프로덕션에서는 반드시 변경하세요!
SECRET_KEY=your-super-secret-key-change-in-production

# 호스트 및 포트
APP_HOST=0.0.0.0
APP_PORT=8000

# CORS 허용 오리진 (쉼표로 구분)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# -------------------------------------------
# 임베딩 모델 설정
# -------------------------------------------
# 사용할 임베딩 모델
EMBEDDING_MODEL=jhgan/ko-sroberta-multitask

# 모델 캐시 디렉토리
TRANSFORMERS_CACHE=./data/cache/transformers

# 임베딩 배치 크기 (메모리에 따라 조정)
EMBEDDING_BATCH_SIZE=32

# -------------------------------------------
# FAISS 인덱스 설정
# -------------------------------------------
# FAISS 인덱스 저장 경로
FAISS_INDEX_PATH=./data/faiss

# 인덱스 타입: flat, ivf
FAISS_INDEX_TYPE=flat

# IVF 인덱스 클러스터 수 (ivf 타입일 때)
FAISS_NLIST=100

# -------------------------------------------
# 검색 설정
# -------------------------------------------
# 기본 검색 결과 수
DEFAULT_SEARCH_LIMIT=20

# 최대 검색 결과 수
MAX_SEARCH_LIMIT=100

# 유사도 검색 기본 임계값 (0.0 ~ 1.0)
SIMILARITY_THRESHOLD=0.3

# -------------------------------------------
# ETL 설정
# -------------------------------------------
# ETL 배치 크기
ETL_BATCH_SIZE=100

# API 호출 간격 (초) - rate limiting 방지
ETL_REQUEST_DELAY=0.5

# 재시도 횟수
ETL_MAX_RETRIES=3

# -------------------------------------------
# 로깅 설정
# -------------------------------------------
# 로그 레벨: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# 로그 파일 경로
LOG_FILE=./logs/app.log

# 로그 파일 최대 크기 (MB)
LOG_MAX_SIZE=10

# 로그 파일 백업 개수
LOG_BACKUP_COUNT=5
